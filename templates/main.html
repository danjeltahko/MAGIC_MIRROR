<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
    <script src="static/js/application.js"></script>
    <link rel="stylesheet" href="/static/css/magic_mirror_style.css">
    <link rel="shortcut icon" href="favicon.ico" size="32x32">
    <title>Testing</title>
</head>
<body>
    <header></header>
    <main>
        <div class="container">

            <div class="left__container">
                
                <div class="container__time">
                    <h1 class="time"> {{ MOA.current_time }} </h1>
                </div>

                <div class="container__date">
                    <h2 class="date"> {{ MOA.current_day }}</h2>
                </div>

                <div class="container__sl">
                    <h5 class="sl__header">{{ MOA.sl_travel[0].origin_name }} → {{ MOA.sl_travel[0].destin_name }} </h5>
                    <div class="sl__break"></div>
                    {% for trip in MOA.sl_travel %}
                        <div class="sl__time__container">
                            <p class="sl__time"> {{ trip.origin_time[9:14] }} ‣ {{ trip.destin_time[9:14] }}</p>
                            <p class="sl__time"> {{ trip.total_time }}</p>
                        </div>
                        <div class="sl__transport__container">
                            {% for transport in trip.transports %}
                                <p class="sl__icon {{transport.color}}">{{ transport.line }}</p>
                            {% endfor %}
                        </div>
                        <div class="sl__break"></div>
                    {% endfor %}
                </div>

                <div class="todo">
                    <ul class="todo__list">
                        <h4> {{ MOA.todo_list['name']}} </h4>
                        {% for task in MOA.todo_list['tasks'] %}
                        <li> {{ task }} </li>
                        {% endfor %}
                    </ul>

                </div>
                
            </div>

            <div class="right__container">

                <div class="container__weather">

                    <div class="container__weather__current">
                        <div class="container__weather__current_top">
                            <div class="container__weather__icon">
                                <img class="weather__current__icon" src="{{MOA.weather_current.icon}}" alt="weather_icon">
                            </div>
                            <h1 class="weather__current__temperature">{{MOA.weather_current.temperature}}</h1>
                        </div>

                        <div class="header__breaker"></div>
 
                        <div class="container__weather__current_bot">
                            <h5 class="weather__description">{{MOA.weather_current.description}}</h5>
                            <p class="weather__feels_like">Känns som {{MOA.weather_current.feels_like}}</p>
                            <div class="sub__weather_description">
                                <p>M : {{MOA.weather_current.clouds}}</p>
                                <div class="row_break"></div>
                                <p>V : {{MOA.weather_current.wind}}</p>
                            </div>
                        </div>
                    </div>

                    <div class="container__weather__forecast">
                        <div class="container__weather__forecast_hours">

                            {% for forecast in MOA.weather_forecast %}
                            <div class="weather__forecast_hour">
                                <img class="weather__forecast__icon" src="{{forecast.icon}}" alt="weather_icon">
                                <p class="weather__forecast__temperature">{{forecast.temperature}}</p>
                                <p class="weather__forecast__time">{{forecast.dt[8:-3]}}</p>
                            </div>
                            <div class="row_break_forecast"></div>
                            {% endfor %}
                        </div>
                    </div>
    

                </div>

                <div class="container__fitbit">
                    <h4>Sömn: ~{{ MOA.fitbit_list['summary']['hours']}}h {{ MOA.fitbit_list['summary']['minutes']}}min </h4>
                    {% for sleep in MOA.fitbit_list['data'] %}
                        <p class="sleep">{{ sleep['day'] }} -> {{ sleep['hours'] }}h {{ sleep['minutes'] }}min</p>
                    {% endfor %}
                </div>

            </div>

        </div>
    </main>
    <footer></footer>
</body>
</html>